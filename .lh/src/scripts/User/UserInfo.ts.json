{
    "sourceFile": "src/scripts/User/UserInfo.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 5,
            "patches": [
                {
                    "date": 1763413025564,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1763413800712,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n     private apikey:string\n     private name!: string;\n     private realName!:string\n     private userURL!:URL\n-    private avatarImg:Array<ImageJson>\n+    private avatarImg?:Array<ImageJson>\n     private avatarURL!:URL\n     private constructor(username:string, apikey:string){\n         this.username = username\n         this.apikey = apikey\n"
                },
                {
                    "date": 1763413811502,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,87 @@\n+// Project Gowers (part of Project Angus)\n+\n+import ky from 'ky';\n+import { apiRootURL, getHttpHeaders } from '../baseI';\n+import type { UserGetInfoType } from '../types/User';\n+import { UndefinedError } from '../errors/UndefinedError';\n+import { ImageJson, Image } from '../types/Image';\n+\n+export default class UserInfo{\n+    private username:string\n+    private apikey:string\n+    private name!: string;\n+    private realName!:string\n+    private userURL!:URL\n+    private avatarImg?:Array<ImageJson>\n+    private avatarURL!:URL\n+    private constructor(username:string, apikey:string){\n+        this.username = username\n+        this.apikey = apikey\n+    }\n+    public async fetchData():Promise<void> {\n+        const resp = await ky.get(\n+            `${apiRootURL}?method=user.getinfo&user=${this.username}&api_key=${this.apikey}&format=json`,\n+            {\n+                method: \"get\",\n+                headers: getHttpHeaders()\n+            },\n+        ).json()\n+        const respAs:UserGetInfoType = (resp as UserGetInfoType)\n+        this.setData(respAs)\n+    }\n+\n+    private setData(data:UserGetInfoType){\n+        this.name = data.user.name\n+        this.realName = data.user.realname\n+        this.userURL = new URL(data.user.url)\n+        this.avatarURL = new URL(\"https://example.org\")\n+        this.avatarImg = data.user.image\n+    }\n+\n+    public getAvatarUrl():URL{\n+        return this.avatarURL\n+    }\n+    \n+    public getAvatarImgs()?:Array<Image>{\n+        let ret:Array<Image> = new Array<Image>(this.avatarImg.length)\n+        for(let i=0; i < this.avatarImg.length; i++){\n+            let cur = this.avatarImg[i]\n+            ret[i] = {\n+                _size: cur.size,\n+                __text: cur['#text']\n+            }\n+        }\n+        return ret\n+    }\n+\n+    public getName():string{\n+        return this.name\n+    }\n+\n+    public getUserUrl():URL{\n+        return this.userURL;\n+    }\n+    public static async create(username: string, apikey: string):Promise<UserInfo> {\n+        const instance = new UserInfo(username, apikey)\n+        await instance.fetchData()\n+        if (instance === undefined)\n+            throw new UndefinedError(\"instance is undefined, this is most likely an internal error\")\n+        return instance\n+    }\n+    public static createAndInject(data:UserGetInfoType):UserInfo{\n+        console.warn(\"Don't use this function unless you're sure you know what you're doing\")\n+        const instance = new UserInfo(\"username\", \"apikey\")\n+        instance.injectData(data)\n+        if (instance === undefined)\n+            throw new UndefinedError(\"instance is undefined, this is most likely an internal error\")\n+        return instance\n+    }\n+    /**\n+     * only for test purposes\n+     * @param data injected data\n+     */\n+    private injectData(data:UserGetInfoType):void{\n+        console.warn(\"Don't use this function unless you're sure you know what you're doing\")\n+        this.setData(data)\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1763413816811,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,9 +41,9 @@\n     public getAvatarUrl():URL{\n         return this.avatarURL\n     }\n     \n-    public getAvatarImgs():Array<Image>{\n+    public getAvatarImgs():Array<Image>|undefined{\n         let ret:Array<Image> = new Array<Image>(this.avatarImg.length)\n         for(let i=0; i < this.avatarImg.length; i++){\n             let cur = this.avatarImg[i]\n             ret[i] = {\n"
                },
                {
                    "date": 1763413826500,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,9 +43,9 @@\n     }\n     \n     public getAvatarImgs():Array<Image>|undefined{\n         let ret:Array<Image> = new Array<Image>(this.avatarImg.length)\n-        if\n+        if(undefined === )\n         for(let i=0; i < this.avatarImg.length; i++){\n             let cur = this.avatarImg[i]\n             ret[i] = {\n                 _size: cur.size,\n"
                },
                {
                    "date": 1763413832496,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,89 @@\n+// Project Gowers (part of Project Angus)\n+\n+import ky from 'ky';\n+import { apiRootURL, getHttpHeaders } from '../baseI';\n+import type { UserGetInfoType } from '../types/User';\n+import { UndefinedError } from '../errors/UndefinedError';\n+import { ImageJson, Image } from '../types/Image';\n+\n+export default class UserInfo{\n+    private username:string\n+    private apikey:string\n+    private name!: string;\n+    private realName!:string\n+    private userURL!:URL\n+    private avatarImg?:Array<ImageJson>\n+    private avatarURL!:URL\n+    private constructor(username:string, apikey:string){\n+        this.username = username\n+        this.apikey = apikey\n+    }\n+    public async fetchData():Promise<void> {\n+        const resp = await ky.get(\n+            `${apiRootURL}?method=user.getinfo&user=${this.username}&api_key=${this.apikey}&format=json`,\n+            {\n+                method: \"get\",\n+                headers: getHttpHeaders()\n+            },\n+        ).json()\n+        const respAs:UserGetInfoType = (resp as UserGetInfoType)\n+        this.setData(respAs)\n+    }\n+\n+    private setData(data:UserGetInfoType){\n+        this.name = data.user.name\n+        this.realName = data.user.realname\n+        this.userURL = new URL(data.user.url)\n+        this.avatarURL = new URL(\"https://example.org\")\n+        this.avatarImg = data.user.image\n+    }\n+\n+    public getAvatarUrl():URL{\n+        return this.avatarURL\n+    }\n+    \n+    public getAvatarImgs():Array<Image>|undefined{\n+        let ret:Array<Image> = new Array<Image>(this.avatarImg.length)\n+        if(undefined === this.avatarImg)\n+            ret\n+        for(let i=0; i < this.avatarImg.length; i++){\n+            let cur = this.avatarImg[i]\n+            ret[i] = {\n+                _size: cur.size,\n+                __text: cur['#text']\n+            }\n+        }\n+        return ret\n+    }\n+\n+    public getName():string{\n+        return this.name\n+    }\n+\n+    public getUserUrl():URL{\n+        return this.userURL;\n+    }\n+    public static async create(username: string, apikey: string):Promise<UserInfo> {\n+        const instance = new UserInfo(username, apikey)\n+        await instance.fetchData()\n+        if (instance === undefined)\n+            throw new UndefinedError(\"instance is undefined, this is most likely an internal error\")\n+        return instance\n+    }\n+    public static createAndInject(data:UserGetInfoType):UserInfo{\n+        console.warn(\"Don't use this function unless you're sure you know what you're doing\")\n+        const instance = new UserInfo(\"username\", \"apikey\")\n+        instance.injectData(data)\n+        if (instance === undefined)\n+            throw new UndefinedError(\"instance is undefined, this is most likely an internal error\")\n+        return instance\n+    }\n+    /**\n+     * only for test purposes\n+     * @param data injected data\n+     */\n+    private injectData(data:UserGetInfoType):void{\n+        console.warn(\"Don't use this function unless you're sure you know what you're doing\")\n+        this.setData(data)\n+    }\n+}\n\\ No newline at end of file\n"
                }
            ],
            "date": 1763413025564,
            "name": "Commit-0",
            "content": "// Project Gowers (part of Project Angus)\n\nimport ky from 'ky';\nimport { apiRootURL, getHttpHeaders } from '../baseI';\nimport type { UserGetInfoType } from '../types/User';\nimport { UndefinedError } from '../errors/UndefinedError';\nimport { ImageJson, Image } from '../types/Image';\n\nexport default class UserInfo{\n    private username:string\n    private apikey:string\n    private name!: string;\n    private realName!:string\n    private userURL!:URL\n    private avatarImg:Array<ImageJson>\n    private avatarURL!:URL\n    private constructor(username:string, apikey:string){\n        this.username = username\n        this.apikey = apikey\n    }\n    public async fetchData():Promise<void> {\n        const resp = await ky.get(\n            `${apiRootURL}?method=user.getinfo&user=${this.username}&api_key=${this.apikey}&format=json`,\n            {\n                method: \"get\",\n                headers: getHttpHeaders()\n            },\n        ).json()\n        const respAs:UserGetInfoType = (resp as UserGetInfoType)\n        this.setData(respAs)\n    }\n\n    private setData(data:UserGetInfoType){\n        this.name = data.user.name\n        this.realName = data.user.realname\n        this.userURL = new URL(data.user.url)\n        this.avatarURL = new URL(\"https://example.org\")\n        this.avatarImg = data.user.image\n    }\n\n    public getAvatarUrl():URL{\n        return this.avatarURL\n    }\n    \n    public getAvatarImgs():Array<Image>{\n        let ret:Array<Image> = new Array<Image>(this.avatarImg.length)\n        for(let i=0; i < this.avatarImg.length; i++){\n            let cur = this.avatarImg[i]\n            ret[i] = {\n                _size: cur.size,\n                __text: cur['#text']\n            }\n        }\n        return ret\n    }\n\n    public getName():string{\n        return this.name\n    }\n\n    public getUserUrl():URL{\n        return this.userURL;\n    }\n    public static async create(username: string, apikey: string):Promise<UserInfo> {\n        const instance = new UserInfo(username, apikey)\n        await instance.fetchData()\n        if (instance === undefined)\n            throw new UndefinedError(\"instance is undefined, this is most likely an internal error\")\n        return instance\n    }\n    public static createAndInject(data:UserGetInfoType):UserInfo{\n        console.warn(\"Don't use this function unless you're sure you know what you're doing\")\n        const instance = new UserInfo(\"username\", \"apikey\")\n        instance.injectData(data)\n        if (instance === undefined)\n            throw new UndefinedError(\"instance is undefined, this is most likely an internal error\")\n        return instance\n    }\n    /**\n     * only for test purposes\n     * @param data injected data\n     */\n    private injectData(data:UserGetInfoType):void{\n        console.warn(\"Don't use this function unless you're sure you know what you're doing\")\n        this.setData(data)\n    }\n}"
        }
    ]
}